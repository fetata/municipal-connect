{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">

    <h2>Reports</h2>

    <form method="get" class="d-flex" style="gap: 10px;">
        <input type="text"
               name="q"
               value="{{ request.GET.q }}"
               placeholder="Search reports..."
               class="form-control"
               oninput="if(this.value === '') this.form.submit();">

        <button type="submit" class="btn btn-outline-primary">
            Search
        </button>
    </form>

    <a href="{% url 'reports:create' %}" class="btn btn-success">
        Create Report
    </a>

</div>



{% if reports %}
    <div class="row">
        {% for report in reports %}
            <div class="col-md-6 mb-3">
                <div class="card p-3">
                    <h5>
                        <a href="{% url 'reports:details' report.pk %}">
                            {{ report.title }}
                        </a>
                    </h5>
                    <p>{{ report.description|truncatechars:80 }}</p>
                    <small>Status: {{ report.status }}</small>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No reports yet.</p>
{% endif %}

{% endblock %}
